# テストケース

前提条件
- `backend\.env`に
  - 下記が含まれている
    ```
    IHASH_SEED=seed123
    ```
- `backend\src\config\news.json`に
  - 下記が含まれている
    ```
    {
      "info": "荒らし煽りには「無視機能」(荒らし退治も荒らしと同類ですよ)"
    },
    {
      "day": "2022/07/12",
      "info": "お知らせを追加しました"
    }
    ```

重要度: リグレッションテスト観点

- S: 必ず行う
- A: 影響範囲が明確で小さい場合に行う
- B: 影響範囲が明確で大きい場合に行う
- C: 影響範囲が不明確な場合に行う

## スイート "独り言" S

1. ブラウザA: http://localhost:2108/ にアクセスする
    - [ ] `入室`画面に遷移すること
    - [ ] `なまえを入れてください`という文言が表示されること
    - [ ] `荒らし煽りには「無視機能」(荒らし退治も荒らしと同類ですよ`という文言が表示されること
    - [ ] `2022/07/12: お知らせを追加しました`という文言が表示されること
1. ブラウザA: 名前入力欄に`テストさん#trip`と入力し、`OK`を押下する
    - [ ] `選択`画面に遷移すること
    - [ ] キャラのプレビューに表示されるキャラ情報が`テストさん◆hEpdoZ.tHU`であること
1. ブラウザA: `もなちゃと`を押下する
    - [ ] `チャット`画面に遷移すること
    - [ ] 部屋人数が`1`人になっていること
    - [ ] キャラ情報が`テストさん◆hEpdoZ.tHU`であること
1. ブラウザA: `こんにちは`と入力し、`OK`を押下する
    - [ ] `こんにちは`と書かれた吹き出しが出現すること

## スイート "会話" A

1. ブラウザA: http://localhost:2108/ にアクセスする
1. ブラウザA: 名前入力欄に`テストさん#trip`と入力し、`OK`を押下する
1. ブラウザA: `もなちゃと`を押下する
1. ブラウザB: http://localhost:2108/ にアクセスする
1. ブラウザB: 名前入力欄に`お隣さん#white`と入力し、`OK`を押下する
1. ブラウザB: `もなちゃと`を押下する
1. ブラウザA: `こんにちは`と入力し、`OK`を押下する
    - [ ] ブラウザB: `こんにちは`と書かれた吹き出しが出現すること
1. ブラウザA: `こんばんは`と入力し、`OK`を押下する
    - [ ] ブラウザA: `こんにちは`と書かれた吹き出しが出現すること

## スイート "入退室" A

1. ブラウザA: http://localhost:2108/ にアクセスする
1. ブラウザA: 名前入力欄に`テストさん#trip`と入力し、`OK`を押下する
    - [ ] ブラウザA: 全ての部屋の人数が`0人`であること
1. ブラウザB: http://localhost:2108/ にアクセスする
1. ブラウザB: 名前入力欄に`お隣さん#white`と入力し、`OK`を押下する
    - [ ] ブラウザA: 全ての部屋の人数が`0人`であること
    - [ ] ブラウザB: 全ての部屋の人数が`0人`であること
1. ブラウザA: `もなちゃと`を押下する
    - [ ] ブラウザA: 部屋人数が`1人`であること
    - [ ] ブラウザB: `もなちゃと`部屋の人数が`1人`であること
1. ブラウザB: `もなちゃと`を押下する
    - [ ] ブラウザA: 部屋人数が`2人`であること
    - [ ] ブラウザB: 部屋人数が`2人`であること
1. ブラウザB: `戻る`を押下する
    - [ ] ブラウザA: 部屋人数が`1人`であること
    - [ ] ブラウザB: `もなちゃと`部屋の人数が`1人`であること
1. ブラウザA: `戻る`を押下する
    - [ ] ブラウザA: 全ての部屋の人数が`0人`であること
    - [ ] ブラウザB: 全ての部屋の人数が`0人`であること

## スイート "キャラ選択画面" C

1. ブラウザA: http://localhost:2108/ にアクセスする
1. ブラウザA: 名前入力欄に`テストさん#trip`と入力し、`OK`を押下する
1. ブラウザA: インデックスから`ﾜｼｮｰｲ系`を選択し、カラーパレットから右上の水色を選択する。
    - [ ] キャラのプレビューに表示されるキャラ情報が`テストさん◆hEpdoZ.tHU`であること
    - [ ] キャラのプレビューに表示されるキャラが`oni`で水色であること
    - [ ] シーケンスバーが左端よりやや右側に移動していること
    - [ ] キャラコ入力欄に`oni`が入っていること
    - [ ] カラーピッカーが水色になっていること
1. ブラウザA: `キャラランダム変更`を押下する
    - [ ] キャラのプレビューに表示されるキャラがランダムに選ばれで水色であること
    - [ ] キャラコ入力欄に任意のキャラコが入っていること
1. ブラウザA: `もなちゃと`を押下する
    - [ ] 想定通りのキャラであること

## スイート "キャラ情報保存" C

1. ブラウザA: http://localhost:2108/ にアクセスする
1. ブラウザA: 名前入力欄に`テストさん#trip`と入力し、`OK`を押下する
1. ブラウザA: `名前変更`を押下する
    - [ ] 名前入力欄に`テストさん#trip`と入力されていること
1. ブラウザA: `OK`を押下する
1. ブラウザA: インデックスから`ﾜｼｮｰｲ系`を選択し、カラーパレットから右上の水色を選択する。
1. ブラウザA: ブラウザを更新する
    - [ ] キャラのプレビューに表示されるキャラ情報が`テストさん◆hEpdoZ.tHU`であること
    - [ ] キャラのプレビューに表示されるキャラが`oni`で水色であること
1. ブラウザA: `もなちゃと`を押下する
1. ブラウザA: ブラウザを更新する
    - [ ] キャラ情報が`テストさん◆hEpdoZ.tHU`であること
    - [ ] キャラが`oni`で水色であること
1. ブラウザA: `ブラウザのlocalStorageを全て削除する`
1. ブラウザA: ブラウザを更新する
    - [ ] キャラ情報が`名無しさん◇wuGMvU`であること
    - [ ] キャラが`charhan`で白色であること
1. ブラウザA: `戻る`を押下する
1. ブラウザA: `名前変更`を押下する
1. ブラウザA: 名前入力欄に`テストさん#trip`と入力し、`OK`を押下する
1. ブラウザA: インデックスから`ﾜｼｮｰｲ系`を選択し、カラーパレットから右上の水色を選択する。
1. ブラウザA: `ブラウザのlocalStorageを全て削除する`
1. ブラウザA: ブラウザを更新する
    - [ ] キャラのプレビューに表示されるキャラ情報が`名無しさん◇wuGMvU`であること
    - [ ] キャラのプレビューに表示されるキャラが`charhan`で白色であること

## スイート "設定"